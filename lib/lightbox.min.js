function Lightbox(){this.opt=!1,this.box=!1,this.wrapper=!1;var f,g,j,k,a=!1,b=this,c=document.getElementsByTagName("body")[0],d='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',e=!1,l=function(){return window.innerHeight||document.documentElement.offsetHeight},m=function(){return window.innerWidth||document.documentElement.offsetWidth},n=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},o=function(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0},p=function(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0},q=function(a,b){return a&&b?(o(a,b)||(a.className+=" "+b),a):void 0},r=function(a){return"undefined"!=typeof a?!0:!1},s=function(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),void 0!=typeof c&&""!=c?c:!1},t=function(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),"string"==typeof c?!0:!1},u=function(a){return document.getElementById(a)?!0:!1};this.load=function(e){if(e&&(this.opt=e),document.attachEvent&&!document.addEventListener&&(a=!0),e&&e.boxId)this.box=document.getElementById(e.boxId);else if(!this.box&&!u("jslghtbx")){var f=document.createElement("div");f.setAttribute("id","jslghtbx"),f.setAttribute("class","jslghtbx"),this.box=f,c.appendChild(this.box)}if(this.box.innerHTML=d,a&&q(this.box,"ie8"),this.wrapper=document.getElementById("jslghtbx-contentwrapper"),e&&e.closeId&&n(document.getElementById(e.closeId),"click",function(){b.close()}),!e||e&&!e.hideCloseBtn){var g=document.createElement("span");g.setAttribute("id","jslghtbx-close"),g.setAttribute("class","jslghtbx-close"),g.innerHTML="X",this.box.appendChild(g),n(g,"click",function(){b.close()})}(!e||e&&e.closeOnClick||e&&!r(e.closeOnClick))&&n(this.box,"click",function(){b.close()}),(!e||e&&e.responsive)&&n(window,"resize",function(){b.resize()});for(var h=document.getElementsByTagName("img"),i=function(a){n(a,"click",function(){s(a,"data-jslghtbx")?b.open(s(a,"data-jslghtbx")):b.open(s(a,"src"))})},j=0;j<h.length;j++)t(h[j],"data-jslghtbx")&&i(h[j])},this.resize=function(){var a=b.wrapper.getElementsByTagName("img")[0];f=m(),g=l(),boxWidth=b.box.offsetWidth,boxHeight=b.box.offsetHeight,e||(e=a.offsetWidth/a.offsetHeight),Math.floor(boxWidth/e)>boxHeight?(j=.8*boxHeight*e,k=.8*boxHeight):(j=.8*boxWidth,k=.8*(boxWidth/e)),a.setAttribute("width",Math.floor(j)),a.setAttribute("height",Math.floor(k)),b.box.setAttribute("style","padding-top:"+(l()-k)/2+"px")},this.refresh=function(a){a&&(this.opt=a),this.load(this.opt)},this.open=function(d){if(!d)return!1;e=!1;var f=document.createElement("img");f.setAttribute("src",d),this.opt&&r(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: hidden"),this.box.setAttribute("style","padding-top: 0"),this.wrapper.innerHTML="",this.wrapper.appendChild(f),q(this.box,"jslghtbx-active"),a&&q(b.wrapper,"jslghtbx-active");var g=setInterval(function(){o(b.box,"jslghtbx-active")&&f.complete&&setTimeout(function(){b.resize(),setTimeout(function(){q(b.wrapper,"jslghtbx-active")},10),clearInterval(g)},40)},10)},this.close=function(){p(b.box,"jslghtbx-active"),p(b.wrapper,"jslghtbx-active"),b.box.setAttribute("style","padding-top: 0px;"),a&&b.box.setAttribute("style","display: none;"),this.opt&&r(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: auto")}}